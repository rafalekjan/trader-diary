{% extends "base.html" %}

{% block title %}Statystyki - Dziennik Tradera{% endblock %}

{% block content %}
<div class="page-header">
    <h2> Statystyki Tradingowe</h2>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <h3>Total Trades</h3>
        <div class="stat-value">{{ stats.total_trades }}</div>
        <p class="stat-label">Wszystkie trady</p>
    </div>

    <div class="stat-card">
        <h3>Closed Trades</h3>
        <div class="stat-value">{{ stats.closed_trades }}</div>
        <p class="stat-label">Zamknite pozycje</p>
    </div>

    <div class="stat-card">
        <h3>Open Trades</h3>
        <div class="stat-value">{{ stats.open_trades }}</div>
        <p class="stat-label">Otwarte pozycje</p>
    </div>

    <div class="stat-card highlight">
        <h3>Total P&L</h3>
        <div class="stat-value {% if stats.total_pnl > 0 %}positive{% elif stats.total_pnl < 0 %}negative{% endif %}">
            ${{ stats.total_pnl | format_decimal }}
        </div>
        <p class="stat-label">Cakowity zysk/strata</p>
    </div>
</div>

<div class="stats-grid">
    <div class="stat-card success">
        <h3>Winning Trades</h3>
        <div class="stat-value">{{ stats.winning_trades }}</div>
        <p class="stat-label">Zyskowne trady</p>
    </div>

    <div class="stat-card danger">
        <h3>Losing Trades</h3>
        <div class="stat-value">{{ stats.losing_trades }}</div>
        <p class="stat-label">Stratne trady</p>
    </div>

    <div class="stat-card highlight">
        <h3>Win Rate</h3>
        <div class="stat-value">{{ stats.winrate }}%</div>
        <p class="stat-label">Procent wygranych</p>
    </div>
</div>

<div class="card">
    <h3>Analiza</h3>
    <div class="analysis">
        {% if stats.closed_trades > 0 %}
            <p>
                Z <strong>{{ stats.closed_trades }}</strong> zamknitych trad贸w, 
                <strong>{{ stats.winning_trades }}</strong> zakoczyo si zyskiem, 
                a <strong>{{ stats.losing_trades }}</strong> strat.
            </p>
            <p>
                Tw贸j win rate wynosi <strong>{{ stats.winrate }}%</strong>.
                {% if stats.winrate >= 50 %}
                    wietna robota! 
                {% else %}
                    Pracuj nad strategi! 
                {% endif %}
            </p>
            <p>
                Cakowity P&L: 
                <strong class="{% if stats.total_pnl > 0 %}positive{% elif stats.total_pnl < 0 %}negative{% endif %}">
                    ${{ stats.total_pnl | format_decimal }}
                </strong>
            </p>
        {% else %}
            <p>Brak zamknitych trad贸w do analizy. Rozpocznij trading i wr贸 tutaj po pierwszych wynikach!</p>
        {% endif %}
    </div>
</div>
{% endblock %}